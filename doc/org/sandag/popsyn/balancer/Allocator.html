<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_26) on Tue Aug 30 14:27:04 PDT 2011 -->
<TITLE>
Allocator
</TITLE>

<META NAME="date" CONTENT="2011-08-30">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Allocator";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Allocator.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../org/sandag/popsyn/balancer/BalanceGeographies.html" title="class in org.sandag.popsyn.balancer"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/sandag/popsyn/balancer/Allocator.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Allocator.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.sandag.popsyn.balancer</FONT>
<BR>
Class Allocator&lt;T extends java.lang.Comparable&lt;T&gt;&gt;</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>org.sandag.popsyn.balancer.Allocator&lt;T&gt;</B>
</PRE>
<DL>
<DT><DT><B>Type Parameters:</B><DD><CODE>T</CODE> - takes a generic type argument such as Target</DL>
<HR>
<DL>
<DT><PRE>public class <B>Allocator&lt;T extends java.lang.Comparable&lt;T&gt;&gt;</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
Allocates households and GQs from TAZs to the MGRAs that are within
 the TAZ. A Monte Carlo procedure is used to select an MGRA for each
 GQ and household according to the distribution of HH/GQ.
<P>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;org.sandag.common.montecarlo.Distribution&lt;<A HREF="../../../../org/sandag/popsyn/balancer/Allocator.html" title="type parameter in Allocator">T</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sandag/popsyn/balancer/Allocator.html#dis">dis</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The distribution object is used to calculate the distribution (and cumulative distribution)
 across MGRAs of households and group quarters (or some other variable) in the TAZ.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;org.sandag.common.montecarlo.MonteCarloChoice&lt;<A HREF="../../../../org/sandag/popsyn/balancer/Allocator.html" title="type parameter in Allocator">T</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sandag/popsyn/balancer/Allocator.html#mcc">mcc</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The Monte Carlo sampling used to select an MGRA based on HH/GQ distributions</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../org/sandag/popsyn/Version.html" title="class in org.sandag.popsyn">Version</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sandag/popsyn/balancer/Allocator.html#version">version</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stores parameter/version information for this PopSyn run</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../org/sandag/popsyn/balancer/Allocator.html#Allocator(int, org.sandag.popsyn.Version, org.sandag.common.montecarlo.RandomSeedManager)">Allocator</A></B>(int&nbsp;bzone,
          <A HREF="../../../../org/sandag/popsyn/Version.html" title="class in org.sandag.popsyn">Version</A>&nbsp;aVersion,
          org.sandag.common.montecarlo.RandomSeedManager&lt;java.lang.Integer&gt;&nbsp;rdm)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructs a new Allocator object with the specified balance zone, version object, and random seed manager.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Set&lt;<A HREF="../../../../org/sandag/popsyn/domain/Household.html" title="class in org.sandag.popsyn.domain">Household</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sandag/popsyn/balancer/Allocator.html#allocate(java.util.Set, java.util.Set)">allocate</A></B>(java.util.Set&lt;<A HREF="../../../../org/sandag/popsyn/domain/Household.html" title="class in org.sandag.popsyn.domain">Household</A>&gt;&nbsp;hhs,
         java.util.Set&lt;<A HREF="../../../../org/sandag/popsyn/balancer/Allocator.html" title="type parameter in Allocator">T</A>&gt;&nbsp;alSet)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Assigns an allocation geography (typically MGRA) to balance objects using 
 a Monte Carlo procedure.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="dis"><!-- --></A><H3>
dis</H3>
<PRE>
protected org.sandag.common.montecarlo.Distribution&lt;<A HREF="../../../../org/sandag/popsyn/balancer/Allocator.html" title="type parameter in Allocator">T</A> extends java.lang.Comparable&lt;<A HREF="../../../../org/sandag/popsyn/balancer/Allocator.html" title="type parameter in Allocator">T</A>&gt;&gt; <B>dis</B></PRE>
<DL>
<DD>The distribution object is used to calculate the distribution (and cumulative distribution)
 across MGRAs of households and group quarters (or some other variable) in the TAZ.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="mcc"><!-- --></A><H3>
mcc</H3>
<PRE>
protected org.sandag.common.montecarlo.MonteCarloChoice&lt;<A HREF="../../../../org/sandag/popsyn/balancer/Allocator.html" title="type parameter in Allocator">T</A> extends java.lang.Comparable&lt;<A HREF="../../../../org/sandag/popsyn/balancer/Allocator.html" title="type parameter in Allocator">T</A>&gt;&gt; <B>mcc</B></PRE>
<DL>
<DD>The Monte Carlo sampling used to select an MGRA based on HH/GQ distributions
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="version"><!-- --></A><H3>
version</H3>
<PRE>
protected <A HREF="../../../../org/sandag/popsyn/Version.html" title="class in org.sandag.popsyn">Version</A> <B>version</B></PRE>
<DL>
<DD>Stores parameter/version information for this PopSyn run
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="Allocator(int, org.sandag.popsyn.Version, org.sandag.common.montecarlo.RandomSeedManager)"><!-- --></A><H3>
Allocator</H3>
<PRE>
public <B>Allocator</B>(int&nbsp;bzone,
                 <A HREF="../../../../org/sandag/popsyn/Version.html" title="class in org.sandag.popsyn">Version</A>&nbsp;aVersion,
                 org.sandag.common.montecarlo.RandomSeedManager&lt;java.lang.Integer&gt;&nbsp;rdm)</PRE>
<DL>
<DD>Constructs a new Allocator object with the specified balance zone, version object, and random seed manager.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>bzone</CODE> - the balance zone (typically, TAZ)<DD><CODE>aVersion</CODE> - the version object for this PopSyn run<DD><CODE>rdm</CODE> - the random seed manager</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="allocate(java.util.Set, java.util.Set)"><!-- --></A><H3>
allocate</H3>
<PRE>
public java.util.Set&lt;<A HREF="../../../../org/sandag/popsyn/domain/Household.html" title="class in org.sandag.popsyn.domain">Household</A>&gt; <B>allocate</B>(java.util.Set&lt;<A HREF="../../../../org/sandag/popsyn/domain/Household.html" title="class in org.sandag.popsyn.domain">Household</A>&gt;&nbsp;hhs,
                                         java.util.Set&lt;<A HREF="../../../../org/sandag/popsyn/balancer/Allocator.html" title="type parameter in Allocator">T</A>&gt;&nbsp;alSet)</PRE>
<DL>
<DD>Assigns an allocation geography (typically MGRA) to balance objects using 
 a Monte Carlo procedure.  Balance objects are randomly allocated to an MGRA
 contained in a TAZ according to the distribution of a variable across MGRAs.
 This variable can be the number of HHs or GQs in each MGRA.  The more HHs or
 GQs there are in a MGRA, the higher the chance that MGRA will be selected for 
 a HH or GQ.  The method first builds a distribution of the allocation variable 
 for MGRAs contained in the TAZ and also calculates the accumulative distribution.
 The method then loops through the discretized balance objects in the TAZ and
 selects an MGRA for the object using a Monte Carlo procedure.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>hhs</CODE> - a Set of Households with discretized weights<DD><CODE>alSet</CODE> - a Set of Targets to calculate a distribution to allocate according to 
 variable to allocate according to (for example, number of households by MGRA)
<DT><B>Returns:</B><DD>Returns a set of Households that have been assigned an MGRA</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Allocator.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../org/sandag/popsyn/balancer/BalanceGeographies.html" title="class in org.sandag.popsyn.balancer"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/sandag/popsyn/balancer/Allocator.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Allocator.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
